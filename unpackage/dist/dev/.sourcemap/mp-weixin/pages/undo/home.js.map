{"version":3,"sources":["webpack:////Users/wenjieliu/Desktop/兴业银行2021/bsxt/pages/undo/home.vue?b857","webpack:////Users/wenjieliu/Desktop/兴业银行2021/bsxt/pages/undo/home.vue?1c23","webpack:////Users/wenjieliu/Desktop/兴业银行2021/bsxt/pages/undo/home.vue?0af9","webpack:////Users/wenjieliu/Desktop/兴业银行2021/bsxt/pages/undo/home.vue?4bae","uni-app:///pages/undo/home.vue","uni-app:///main.js"],"names":["createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;;;AAGnD;AACgN;AAChN,gBAAgB,iNAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAk0B,CAAgB,kyBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuFt1B,mF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA,EACA,IADA,kBACA,CACA,SACA,YADA,EAEA,sBAFA,EAGA,mBAHA,EAIA,sBAJA,EAKA,iBALA,EAMA,eANA,EAOA,eAPA,EAQA,SARA,EASA,iCATA,EAUA,sCAVA,GAYA,CAdA,EAeA,OAfA,qBAeA,CACA,iBADA,CAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA,oCACA,eACA,2BACA,CA5BA,EA6BA,iBA7BA,+BA6BA,CACA,uBACA,+BACA,eACA,wBACA,0BACA,CAFA,EAEA,IAFA,EAGA,CApCA,EAqCA,WACA,8BACA,eACA,CAHA,EAIA,UAJA,sBAIA,CAJA,EAIA,CACA,mCACA,CANA,EAOA,SAPA,qBAOA,CAPA,EAOA,CACA,qBACA,CATA,EAUA,QAVA,oBAUA,CAVA,EAUA,CACA,iBACA,0CAFA,CAIA;AACA,yCACA,iBACA,mEADA,IAGA,CAJA,MAIA,CACA,iBACA,uEADA,IAGA,CAEA,CAzBA,EA0BA,UA1BA,sBA0BA,CA1BA,EA0BA,CACA,2EACA,CA5BA,EA6BA,SA7BA,qBA6BA,CA7BA,EA6BA,CACA,gDACA,OACA,CACA,yCAJA,CAMA;AACA,4CACA,eACA,CAFA,MAEA,CACA,uCACA,CAEA,CA1CA,EA2CA,OA3CA,qBA2CA,CACA,iBACA,cACA,2BACA,wBACA,0CACA,iBAEA,yDACA,2DACA,2CACA,wCACA,0BACA,oCACA,CAHA,MAGA;AACA;AACA;AACA;;AAEA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA;AACA,OAhBA;AAiBA,KArEA;AAsEA,eAtEA,uBAsEA,OAtEA,EAsEA;AACA;AACA,KAxEA;AAyEA,eAzEA,uBAyEA,GAzEA,EAyEA;AACA;AACA,KA3EA;AA4EA,iBA5EA,yBA4EA,CA5EA,EA4EA;AACA;AACA,KA9EA;AA+EA,kBA/EA,0BA+EA,CA/EA,EA+EA;AACA;AACA,KAjFA;AAkFA;AACA;AACA,iCADA;;AAGA,KAtFA,EArCA,E;;;;;;;;;;;;;kDCxFA;AACA;AACA,0F;AACAA,UAAU,CAACC,aAAD,CAAV,C","file":"pages/undo/home.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=1a6c0a01&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/undo/home.vue\"\nexport default component.exports","export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=1a6c0a01&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.loginStat\n    ? _vm.__map(_vm.undoList, function(item, index) {\n        var $orig = _vm.__get_orig(item)\n\n        var m0 = _vm.doneTimeStr(item.dynamicTime)\n        return {\n          $orig: $orig,\n          m0: m0\n        }\n      })\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../Applications/HBuilderX.app/Contents/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js&\"","\n<template>\n\t<view>\n\t\t<view class=\"padding flex flex-direction margin-top-xl\" v-if=\"!loginStat\" @click=\"loginApp\">\n\t\t\t<button class=\"cu-btn bg-grey lg\">请先登录</button>\n\t\t</view>\n<!-- \t\t<view class=\"cu-bar search bg-white fixed\"   style=\"padding-top:40upx;height:128upx;\" v-if=\"loginStat\">\n\t\t\t<view class=\"search-form round\">\n\t\t\t\t<text class=\"cuIcon-search\"></text>\n\t\t\t\t<input @focus=\"InputFocus\" @blur=\"InputBlur\" :adjust-position=\"false\" type=\"text\" placeholder=\"搜索图片、文章、视频\" style=\"text-align:left;line-height:16px;\" confirm-type=\"search\"></input>\n\t\t\t</view>\n\t\t\t<view class=\"action\">\n\t\t\t\t<button class=\"cu-btn bg-green shadow-blur round\">搜索</button>\n\t\t\t</view>\n\t\t</view> -->\n\t\t<cu-custom bgColor=\"bg-gradual-blue\" :isBack=\"false\">\n\t\t\t<block slot=\"content\">待办事项</block>\n\t\t</cu-custom>\n\t\t<scroll-view scroll-x class=\"bg-white nav fixed\" style=\"top:64px\" v-if=\"loginStat\">\n\t\t\t<view class=\"flex text-center\">\n\t\t\t\t<view class=\"cu-item flex-sub\" :class=\"index==TabCur?'text-orange cur':''\" v-for=\"(item,index) in 4\" :key=\"index\" @tap=\"tabSelect\" :data-id=\"index\">\n\t\t\t\t\t<!-- <view class=\"cu-tag badge\" v-if=\"undos[index]!=0\">\n\t\t\t\t\t\t<block v-if=\"undos[index]!=1\">{{undos[index]>99?'99+':undos[index]}}</block>\n\t\t\t\t\t</view> -->\n\t\t\t\t\t{{Tab[index]+' '}}.<text class=\"text-xs\" :class=\"index==TabCur?'text-orange':''\">{{undos[index]>99?'99+':undos[index]}}</text>\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</scroll-view>\n\t\t\n\n\t\t<view class=\"cu-card dynamic no-card\" style=\"margin-top:88upx;padding-bottom:216upx;\" v-if=\"loginStat\">\n\t\t\t<view class=\"cu-item shadow\">\n\t\t\t\t<view class=\"cu-list menu-avatar comment solids-top bg-gray\">\n\t\t\t\t\t<view class=\"cu-item\" :class=\"index == 0?'':'margin-top'\"  v-for=\"(item,index) in undoList\" :key=\"index\" :data-index=\"index\"  @click=\"doBySlef\" :data-item=\"item.fileNo\">\n\t\t\t\t\t\t<view class=\"cu-avatar round\" :style=\"'background-image:url(../../static/images/icon'+(index+1)+'.png);'\"></view>\n\t\t\t\t\t\t<view class=\"content\">\n\t\t\t\t\t\t\t<view class=\"flex justify-between\">\n\t\t\t\t\t\t\t\t<text class=\"text-grey\">{{item.jbr}}-{{item.dept}}</text>\n\t\t\t\t\t\t\t\t<text class=\"text-grey text-xs\">{{doneTimeStr(item.dynamicTime)}}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"text-gray text-content text-df\" style=\"margin-top:24upx;\">\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{{item.fqr}}发起的{{item.type==0?'问题':'事项'}}，正在处理中\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"text-gray text-content text-df\">\n\t\t\t\t\t\t\t\t{{item.note}}\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"bg-brown padding-sm radius margin-top-sm  text-sm\">\n\t\t\t\t\t\t\t\t<view class=\"flex\" v-if=\"item.createTime\">\n\t\t\t\t\t\t\t\t\t<view>发起时间：</view>\n\t\t\t\t\t\t\t\t\t<view class=\"flex-sub\">{{item.createTime}}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"flex\" v-if=\"item.checkTime\">\n\t\t\t\t\t\t\t\t\t<view>审批时间：</view>\n\t\t\t\t\t\t\t\t\t<view class=\"flex-sub\">{{item.checkTime}}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"flex\" v-if=\"item.finishTime\">\n\t\t\t\t\t\t\t\t\t<view>完成时间：</view>\n\t\t\t\t\t\t\t\t\t<view class=\"flex-sub\">{{item.finishTime}}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- <view class=\"margin-top-sm flex justify-between\"> -->\n\t\t\t\t\t\t\t\t<!-- <view class=\"text-gray text-df\"></view> -->\n\t\t\t\t\t\t\t<view class=\"margin-top-sm text-center\" v-if=\"item.isSelf\">\n\t\t\t\t\t\t\t\t<text class=\"text-green\">立即处理</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"margin-top-sm text-center\" v-if=\"!item.isSelf\">\n\t\t\t\t\t\t\t\t<text class=\"text-green\">点击查看</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<!-- </view> -->\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<view class=\"margin-top bg-gray padding text-center\">\n\t\t\t\t<view class=\"text-blue\" style=\"text-decoration: underline;\" @click=\"getData\" v-if=\"showMore[TabCur]\">更多</view>\n\t\t\t\t<view class=\"text-blue\" v-if=\"!showMore[TabCur]\">没有了</view>\n\t\t\t</view>\n\t\t</view>\n\n\n\t\t\n\t</view>\n</template>\n\n<script>\n\timport utils from '../../utils.js'; \n\texport default {\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\tundoList: [],\n\t\t\t\tlist:[[],[],[],[]],\n\t\t\t\tundos:[0,0,0,0],\n\t\t\t\tcurrPage : [0,0,0,0],\n\t\t\t\tisZhongjie:false,\n\t\t\t\tloginUserId:'',\n\t\t\t\tloginStat:true,\n\t\t\t\tTabCur:0,\n\t\t\t\tTab:['我发起','我经办','处理中','已完成'],\n\t\t\t\tshowMore:[false, false, false, false]\n\t\t\t};\n\t\t},\n\t\tmounted(){\n\t\t\tvar _this = this;\n\t\t\t// var userInfo = uni.getStorageSync(\"userInfo\");\n\t\t\t// _this.loginStat = userInfo.loginStat;\n\t\t\t// _this.loginUserId = userInfo.userId;\n\t\t\t\n\t\t\t// if(_this.loginStat){\n\t\t\t// \tthis.refreshData();\n\t\t\t// }\n\t\t\t// //页面间通讯监听\n\t\t\tuni.$on('update', this.updated);\n\t\t\tthis.getData();\n\t\t\tuni.startPullDownRefresh();\n\t\t},\n\t\tonPullDownRefresh() {\n\t\t\tconsole.log('refresh');\n\t\t\tthis.currPage[this.TabCur] = 0;\n\t\t\tthis.getData();\n\t\t\tsetTimeout(function () {\n\t\t\t\tuni.stopPullDownRefresh();\n\t\t\t}, 1000);\n\t\t},\n\t\tmethods: {\n\t\t\tupdated:function(e){\n\t\t\t\tthis.getData();\n\t\t\t},\n\t\t\tInputFocus(e) {\n\t\t\t\tthis.InputBottom = e.detail.height\n\t\t\t},\n\t\t\tInputBlur(e) {\n\t\t\t\tthis.InputBottom = 0\n\t\t\t},\n\t\t\tdoBySlef(e){\n\t\t\t\tvar _this = this;\n\t\t\t\tconst index =  e.currentTarget.dataset.index;\n\t\t\t\t\n\t\t\t\t//判断是自己是否处理人\n\t\t\t\tif(_this.undoList[index].isSelf){\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl:'/pages/undo/flow_done?fileNo='+_this.undoList[index].fileNo\n\t\t\t\t\t})\n\t\t\t\t}else{\n\t\t\t\t\tuni.navigateTo({\n\t\t\t\t\t\turl:'/pages/undo/flow-timeline?fileNo='+_this.undoList[index].fileNo\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tnoteManage(e){\n\t\t\t\tconsole.log(\"noteManage: \" + JSON.stringify(e.currentTarget.dataset.item));\n\t\t\t},\n\t\t\ttabSelect(e) {\n\t\t\t\tif(this.TabCur == e.currentTarget.dataset.id){\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tthis.TabCur = e.currentTarget.dataset.id;\n\t\t\t\t\n\t\t\t\t//如果是切换，且页面没有数据才自动触发刷新\n\t\t\t\tif(this.currPage[this.TabCur] == 0){\n\t\t\t\t\tthis.getData();\n\t\t\t\t}else{\n\t\t\t\t\tthis.undoList = this.list[this.TabCur]\n\t\t\t\t}\n\t\t\t\t\n\t\t\t},\n\t\t\tgetData(){\n\t\t\t\tvar _this = this; \n\t\t\t\tvar data = {};\n\t\t\t\tdata.userId = _this.userId;\n\t\t\t\tdata.flag = this.TabCur;\n\t\t\t\tdata.pages = this.currPage[this.TabCur]++;\n\t\t\t\tdata.number = 20;\n\t\t\t\t     \n\t\t\t\tconsole.log(\"currPage:\"+JSON.stringify(this.currPage));\n\t\t\t\tthis.commRequest('/app/getUndoList',data,function(res){\n\t\t\t\t\tconsole.log(\"res: \" + JSON.stringify(res));\n\t\t\t\t\tif(_this.currPage[_this.TabCur] == 1){\n\t\t\t\t\t\t_this.undoList = res.list;\n\t\t\t\t\t\t_this.list[_this.TabCur] = res.list\n\t\t\t\t\t}else{\n\t\t\t\t\t\t_this.undoList = _this.undoList.concat(res.list);\n\t\t\t\t\t\t_this.list[_this.TabCur] = _this.list[_this.TabCur].concat(res.list);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tif(res.list < 9){\n\t\t\t\t\t\t_this.showMore[_this.TabCur] = false;\n\t\t\t\t\t}else{\n\t\t\t\t\t\t_this.showMore[_this.TabCur] = true;\n\t\t\t\t\t}\n\t\t\t\t\t_this.undos = res.unDoNum;\n\t\t\t\t})\n\t\t\t},\n\t\t\tdoneTimeStr(timeStr){\n\t\t\t\treturn utils.get_time_str(timeStr);\n\t\t\t},\n\t\t\tgetLoanName(ids){\n\t\t\t\treturn utils.getLoanName(ids);\n\t\t\t},\n\t\t\tqueryQuestion(e){\n\t\t\t\tconsole.log(\"queryQuestion: \" + JSON.stringify(e.currentTarget.dataset.item));\n\t\t\t},\n\t\t\tcommitQuestion(e){\n\t\t\t\tconsole.log(\"commitQuestion: \" + JSON.stringify(e.currentTarget.dataset.item));\n\t\t\t},\n\t\t\tloginApp:function(e){\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl:'/pages/login/login'\n\t\t\t\t})\n\t\t\t}\n\t\t\t\n\t\t}\n\t}\n</script>\n\n<style>\n\n</style>\n","import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/undo/home.vue'\ncreatePage(Page)"],"sourceRoot":""}